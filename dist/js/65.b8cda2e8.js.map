{"version":3,"file":"js/65.b8cda2e8.js","mappings":"qOACOA,MAAM,O,uBACTC,EAAAA,EAAAA,GAA6B,OAAxBC,GAAG,gBAAc,Y,GAAtBC,G,0CADFC,EAAAA,EAAAA,IAEM,MAFNC,EAEM,E,oGAWR,SACEC,KAAM,aACNC,KAAI,WACF,MAAO,CACLC,IAAK,KACLC,MAAO,GACPC,KAAM,GAEV,EACAC,WAAY,CACVC,QAAAA,EAAAA,GAEFC,QAAO,WACLC,KAAKC,SACLD,KAAKN,IAAMQ,IAAAA,IAAM,gBAAgBC,QAAQ,CAAC,UAAW,WAAY,GACjED,IAAAA,UAAY,qDAAsD,CAChEE,YACE,4FACDC,MAAML,KAAKN,IAChB,EACAY,QAAS,CACDL,OAAM,WAAG,6IACPM,EAAAA,EAAAA,IACC,iDAAkD,CACrDC,iBAAiB,IAElBC,MAAK,SAAAC,GACJ,EAAKd,KAAOc,EAAIjB,KAChBkB,QAAQC,IAAI,KACZD,QAAQC,IAAI,EAAKhB,MACjB,EAAKiB,cACP,IAAC,UACM,SAAAC,GACLH,QAAQC,IAAIE,EACd,IAAE,0CAbS,EAcf,EACMD,aAAY,WAAG,yIAMnB,IALME,EAAS,IAAIC,EAAAA,KAAK,CACtBC,QAASC,EACTC,SAAU,CAAC,GAAI,MACf,WAEOC,GACHC,EACF,oEACA,EAAKzB,KAAKwB,GAAGE,SACfC,MAAMF,GACHZ,MAAK,SAAAe,GAAO,OAAKA,EAASC,MAAM,IAChChB,MAAK,SAAAhB,GACJ,IAAMiC,EAAajC,EACnBkB,QAAQC,IAAIc,EAAW,IACvBxB,IAAAA,OAAS,CAACwB,EAAW,GAAGC,IAAKD,EAAW,GAAGE,KAAM,CAAEC,KAAMd,IACtDe,UAAU,uCAAD,OAC+B,EAAKlC,KAAKwB,GAAGW,QAErD1B,MAAM,EAAKX,IAChB,IAAC,UACM,SAAAoB,GAAE,OAAKH,QAAQC,IAAIE,EAAI,GAAC,EAf1BM,EAAI,EAAGA,EAAI,EAAKxB,KAAKoC,OAAQZ,IAAK,EAAlCA,GAgBT,0CAtBmB,EAuBrB,I,eClEJ,MAAMa,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,G","sources":["webpack://relax_client/./src/components/Center/map-Center.vue","webpack://relax_client/./src/components/Center/map-Center.vue?3953"],"sourcesContent":["<template>\r\n  <div class=\"app\">\r\n    <div id=\"mapContainer\"></div>\r\n  </div>\r\n</template>\r\n        \r\n<script>\r\nimport axios from \"axios\";\r\nimport headers from \"../template/header.vue\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport L from \"leaflet\";\r\nimport { ref } from \"vue\";\r\nimport { Icon } from \"leaflet\";\r\nimport marker from \"../../assets/image/icons8-shipment-642.png\";\r\nexport default {\r\n  name: \"LeafletMap\",\r\n  data() {\r\n    return {\r\n      map: null,\r\n      value: [],\r\n      item: []\r\n    };\r\n  },\r\n  components: {\r\n    headers\r\n  },\r\n  mounted() {\r\n    this.Create();\r\n    this.map = L.map(\"mapContainer\").setView([33.510414, 36.278336], 7);\r\n    L.tileLayer(\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\", {\r\n      attribution:\r\n        '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n    }).addTo(this.map);\r\n  },\r\n  methods: {\r\n    async Create() {\r\n      await axios\r\n        .get(\"http://localhost:3000/mangecenter/find_centers\", {\r\n          withCredentials: true\r\n        })\r\n        .then(res => {\r\n          this.item = res.data;\r\n          console.log(\"2\");\r\n          console.log(this.item);\r\n          this.show_centers();\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    async show_centers() {\r\n      const myIcon = new Icon({\r\n        iconUrl: marker,\r\n        iconSize: [40, 40]\r\n      });\r\n\r\n      for (let i = 0; i < this.item.length; i++) {\r\n        var url =\r\n          \"https://nominatim.openstreetmap.org/search?format=json&limit=3&q=\" +\r\n          this.item[i].Location;\r\n        fetch(url)\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            const addressArr = data;\r\n            console.log(addressArr[0]);\r\n            L.marker([addressArr[0].lat, addressArr[0].lon], { icon: myIcon })\r\n              .bindPopup(\r\n                `<h1 width=\"300\" height=\"300\" >KEY : ${this.item[i].email}`\r\n              )\r\n              .addTo(this.map);\r\n          })\r\n          .catch(err => console.log(err));\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n        \r\n<style scoped>\r\n#mapContainer {\r\n  /* width: 80vw; */\r\n  height: 75vh;\r\n  position: relative;\r\n  display: flex;\r\n  /* justify-content: center; */\r\n  /* align-items: center; */\r\n  top: 16vh;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 100;\r\n  position: absolute;\r\n  right: 5%;\r\n  width: 81%;\r\n}\r\n</style>","import { render } from \"./map-Center.vue?vue&type=template&id=5133e474&scoped=true\"\nimport script from \"./map-Center.vue?vue&type=script&lang=js\"\nexport * from \"./map-Center.vue?vue&type=script&lang=js\"\n\nimport \"./map-Center.vue?vue&type=style&index=0&id=5133e474&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\NAZIR\\\\OneDrive\\\\سطح المكتب\\\\relax\\\\relax_client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5133e474\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","id","_hoisted_2","_createElementBlock","_hoisted_1","name","data","map","value","item","components","headers","mounted","this","Create","L","setView","attribution","addTo","methods","axios","withCredentials","then","res","console","log","show_centers","err","myIcon","Icon","iconUrl","marker","iconSize","i","url","Location","fetch","response","json","addressArr","lat","lon","icon","bindPopup","email","length","__exports__","render"],"sourceRoot":""}